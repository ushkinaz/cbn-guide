# IMPORTANT
# > An incoming request which matches multiple rules' URL patterns will inherit all rules' headers.
# > If a header is applied twice in the _headers file, the values are joined with a comma separator.
# https://developers.cloudflare.com/pages/configuration/headers/#attach-a-header
# That means we have to make sure that only one Cache-Control is applied ever - usually in the most specific rule.
#

/stable
  Link: <https://data.cataclysmbn-guide.com/data/stable/all.json>; rel=preload; as=fetch; crossorigin=anonymous

/stable/*
  Link: <https://data.cataclysmbn-guide.com/data/stable/all.json>; rel=preload; as=fetch; crossorigin=anonymous

/nightly
  Link: <https://data.cataclysmbn-guide.com/data/nightly/all.json>; rel=preload; as=fetch; crossorigin=anonymous

/nightly/*
  Link: <https://data.cataclysmbn-guide.com/data/nightly/all.json>; rel=preload; as=fetch; crossorigin=anonymous

/assets/*
  Cache-Control: public, max-age=31536000, immutable

/opensearch.xml
  Cache-Control: public, max-age=86400, must-revalidate
  Content-Type: application/opensearchdescription+xml

/sitemap.xml
  Cache-Control: public, max-age=86400, must-revalidate
  Content-Type: application/xml; charset=utf-8

/robots.txt
  Cache-Control: public, max-age=86400, must-revalidate
  Content-Type: text/plain; charset=utf-8

/manifest.webmanifest
  Cache-Control: public, max-age=86400, must-revalidate


# Service Worker is cached for 5 minutes, to be able to update it quickly.
/sw.js
  Cache-Control: public, max-age=300, must-revalidate

/*
  X-Frame-Options: SAMEORIGIN
  X-Content-Type-Options: nosniff
  Referrer-Policy: strict-origin-when-cross-origin
  Strict-Transport-Security: max-age=31536000; includeSubDomains
  X-Permitted-Cross-Domain-Policies: none
  Permissions-Policy: run-ad-auction=(), browsing-topics=(), camera=(), microphone=(), geolocation=()
